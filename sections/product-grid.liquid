<section id="shop" class="product-grid">
  <script src="{{ 'product-grid.js' | asset_url }}" defer></script>
  <div class="product-section">
    <div class="product-header">
      <h2 class="section-title">{{ section.settings.title }}</h2>
      <div class="slick-buttons">
        <button class="slick-prev-c" onclick="() => $('.slick-carousel').slick('slickPrev')">
          {% render 'arrow-left-icon' %}
        </button>
        <button class="slick-next-c" onclick="() => $('.slick-carousel').slick('slickNext')">
          {% render 'arrow-right-icon' %}
        </button>
      </div>
    </div>
    <div class="slick-carousel">
      {% for product in section.settings.collection.products %}
        <div class="product">
          <div class="product-image">
            {{ product.images.first.src | image_url: width: '500' | image_tag }}
          </div>
          <div class="product-footer">
            <h3 class="product-title">{{ product.title }}</h3>
            <div class="price-cart">
              <p class="price">{{ product.price | money_with_currency }}</p>
              <form class="cart-add" method="post" action="/cart/add">
                <input name="id" value="{{ product.variants.first.id }}" type="hidden">
                <div class="qty-input">
                  <button class="qty-count qty-count--minus" data-action="minus" type="button">-</button>
                  <input class="product-qty" type="number" name="quantity" min="0" max="10" value="1">
                  <button class="qty-count qty-count--add" data-action="add" type="button">+</button>
                </div>
                <button type="submit" class="add-to-cart-bag-btn" data-variant-id="{{ product.id }}">
                  {% render 'add-to-cart-icon' %}
                </button>
              </form>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  $('.slick-prev-c').on('click', () => {
    $('.slick-carousel').slick('slickPrev')
  });
  $('.slick-next-c').on('click', () => {
    $('.slick-carousel').slick('slickNext')
  });
</script>
{% schema %}
{
  "name": "product grid",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Featured Items"
    }
  ],
  "presets": [
    {
      "name": "product grid"
    }
  ]
}
{% endschema %}

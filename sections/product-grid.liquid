<product-grid>
  {% if section.settings['parallax-image'] != blank %}
    <section class="parallax">
      <div class="parallax-inner">
        <img
          src="{{ section.settings.parallax-image | image_url }}"
          class="img-parallax"
        >
        <div class="white-gradient"></div>
      </div>
      <div class="product-section">
        <div class="product-header">
          <h2 class="section-title">Featured Items</h2>
          <div class="slick-buttons">
            <button class="slick-prev-c" onclick="() => $('.slick-carousel').slick('slickPrev')">
              {% render 'arrow-left-icon' %}
            </button>
            <button class="slick-next-c" onclick="() => $('.slick-carousel').slick('slickNext')">
              {% render 'arrow-right-icon' %}
            </button>
          </div>
        </div>
        <div class="slick-carousel">
          {% for product in section.settings.collection.products %}
            <div class="product">
              <img src="{{ product.images.first.src | img_url: 'large' }}" alt="{{ product.title }}">
              <div class="product-footer">
                <h4 class="product-collection">{{ product.collections[1].title }}</h4>
                <h3 class="product-title">{{ product.title }}</h3>
                <p class="price">{{ product.price }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
        <div>
          <img
            src="https://images.squarespace-cdn.com/content/v1/56c34abb8259b52c41717077/1455914196367-MR8SQP43YG89USPW4KTF/product-collage.jpg?format=1500w.jpg"
            class="imagen-estilizada"
          >
        </div>
      </div>
    </section>
  {% endif %}

  <script>
    
       
  window.addEventListener('scroll', function() {
    const parallax = document.querySelector('.img-parallax');
    const scrolled = window.scrollY;
    parallax.style.transform = `translateY(${scrolled * 0.5}px)`;
  });
  $('.slick-prev-c').on('click', () => {$('.slick-carousel').slick('slickPrev')}); 
  $('.slick-next-c').on('click', () => {$('.slick-carousel').slick('slickNext')}); 


  </script>
</product-grid>

{% schema %}
{
  "name": "product grid",
  "settings": [{
  "type": "collection",
  "id": "collection",
  "label": "Collection"
},
{
  "type": "image_picker",
  "id": "parallax-image",
  "label": "parallax image"
}
],
  "presets" : [{ "name" : "product grid" }]
}
{% endschema %}
